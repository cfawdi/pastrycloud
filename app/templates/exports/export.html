{% extends "base.html" %}
{% block title %}Export Data - {{ shop_name }}{% endblock %}
{% block page_title %}Export{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
  <div class="card bg-base-200 shadow">
    <div class="card-body">
      <h2 class="card-title mb-2">Export Data</h2>
      <p class="text-sm opacity-60 mb-6">Download your data in CSV, Excel, or JSON format</p>

      <div class="space-y-3">
        {% set entity_icons = {
          'ingredients': 'Ingredients',
          'recipes': 'Recipes',
          'products': 'Products',
          'production_runs': 'Production Runs',
          'sales': 'Sales',
          'waste_logs': 'Waste Logs'
        } %}

        {% for entity in entities %}
        <div class="flex items-center justify-between p-4 bg-base-100 rounded-lg">
          <div>
            <p class="font-medium">{{ entity_icons.get(entity, entity|replace('_', ' ')|title) }}</p>
            <p class="text-xs opacity-50">{{ entity }}</p>
          </div>
          <div class="flex gap-2">
            <a href="{{ url_for('exports.download', entity=entity, format='csv') }}"
               class="btn btn-outline btn-xs gap-1">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
              CSV
            </a>
            <a href="{{ url_for('exports.download', entity=entity, format='excel') }}"
               class="btn btn-outline btn-xs gap-1 btn-success">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
              Excel
            </a>
            <a href="{{ url_for('exports.download', entity=entity, format='json') }}"
               class="btn btn-outline btn-xs gap-1 btn-info">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
              JSON
            </a>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
